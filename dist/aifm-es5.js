!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.aifm=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function(){var e=1e15,t=9007199254740992,r=function(e){this._set=void 0!==e?new Set(e):new Set,this.size=0};r.prototype.add=function(e){return this._set.add(e),this.size=this._set.size,this},r.prototype.clear=function(){this._set.clear(),this.size=0},r.prototype.delete=function(e){var t=this._set.delete(e);return this.size=this._set.size,t},r.prototype.entries=function(){return this._set.entries()},r.prototype.forEach=function(e,t){this._set.forEach(e,t)},r.prototype.has=function(e){return this._set.has(e)},r.prototype.keys=function(){return this._set.keys()},r.prototype.values=function(){return this._set.values()},r.prototype["@@iterator"]=r.prototype.values,r.prototype.$verts=function(){for(var e,t=new r,o=this[Symbol.iterator]();!(e=o.next()).done;)for(var n,i=e.value,a=i.$verts(),s=a[Symbol.iterator]();!(n=s.next()).done;){var d=n.value;t.add(d)}return t},r.prototype.$edges=function(){for(var e,t=new r,o=this[Symbol.iterator]();!(e=o.next()).done;)for(var n,i=e.value,a=i.$$edges(),s=a[Symbol.iterator]();!(n=s.next()).done;){var d=n.value;t.add(d)}return t},r.prototype.$faces=function(){for(var e,t=new r,o=this[Symbol.iterator]();!(e=o.next()).done;)for(var n,i=e.value,a=i.$faces(),s=a[Symbol.iterator]();!(n=s.next()).done;){var d=n.value;t.add(d)}return t};var o=function(){this.id=void 0,this.annotation={},this.edges=new r};o.prototype.$verts=function(){for(var e,t=new r,o=this.edges[Symbol.iterator]();!(e=o.next()).done;){var n=e.value;t.add(n.vert1),t.add(n.vert2)}return t.delete(this),t},o.prototype.$edges=function(){return this.edges},o.prototype.$faces=function(){for(var e,t=new r,o=this.edges[Symbol.iterator]();!(e=o.next()).done;)for(var n,i=e.value,a=i.faces[Symbol.iterator]();!(n=a.next()).done;){var s=n.value;t.add(s)}return t};var n=function(){this.id=void 0,this.annotation={},this.vert1=void 0,this.vert2=void 0,this.faces=new r};n.prototype.$verts=function(){return new r([this.vert1,this.vert2])},n.prototype.$edges=function(){for(var e,t,o=new r,n=this.vert1.edges[Symbol.iterator]();!(t=n.next()).done;)e=t.value,o.add(e);for(var i,a=this.vert2.edges[Symbol.iterator]();!(i=a.next()).done;)e=i.value,o.add(e);return o.delete(this),o},n.prototype.$faces=function(){return this.faces};var i=function(){this.id=void 0,this.annotation={},this.edges=new r};i.prototype.$verts=function(){for(var e,t=new r,o=this.edges[Symbol.iterator]();!(e=o.next()).done;){var n=e.value;t.add(n.vert1),t.add(n.vert2)}return t},i.prototype.$edges=function(){return this.edges},i.prototype.$faces=function(){for(var e,t=new r,o=this.edges[Symbol.iterator]();!(e=o.next()).done;)for(var n,i=e.value,a=i.faces[Symbol.iterator]();!(n=a.next()).done;){var s=n.value;t.add(s)}return t.delete(this),t};var a=function(){this.verts=new Map,this.edges=new Map,this.faces=new Map};a.prototype.addVert=function(r){if(r instanceof o){var n=r.id?r.id:Math.floor(Math.random()*(t-e+1));return r.id=n,this.verts.set(n,r),r}throw new TypeError("Not a vert!")},a.prototype.addEdge=function(r){if(r instanceof n){var o=r.id?r.id:Math.floor(Math.random()*(t-e+1));return r.id=o,this.edges.set(o,r),r}throw new TypeError("Not an edge!")},a.prototype.addFace=function(r){if(r instanceof i){var o=r.id?r.id:Math.floor(Math.random()*(t-e+1));return r.id=o,this.faces.set(o,r),r}throw new TypeError("Not a face!")},a.prototype.deleteVert=function(e){return this.verts.delete(e instanceof o?e.id:e)},a.prototype.deleteEdge=function(e){return this.edges.delete(e instanceof n?e.id:e)},a.prototype.deleteFace=function(e){return this.faces.delete(e instanceof i?e.id:e)};var s=function(){a.call(this)};s.getCommonEdgeOfVertPair=function(e,t){for(var o,n,i,a=e.edges,s=t.edges,d=new Set(a),f=s[Symbol.iterator]();!(i=f.next()).done;)n=i.value,d.add(n);if(d.size==a.size+s.size)return new r;for(var v,u=s[Symbol.iterator]();!(v=u.next()).done;)n=v.value,d.delete(n);o=new r(a);for(var p,h=d[Symbol.iterator]();!(p=h.next()).done;)n=p.value,o.delete(n);return o},s.validateEdgeLoop=function(e){var t=$traceurRuntime.spread(e);if(t.length<3)return!1;var r,o,n=t[0].vert1,i=t[0].vert2,a=t[1].vert1,s=t[1].vert2;if(n===a)r=i,o=s;else if(n===s)r=i,o=a;else if(i===a)r=n,o=s;else{if(i!==s)return!1;r=n,o=a}for(var d=2;d<t.length;d++)if(a=t[d].vert1,s=t[d].vert2,o===a)o=s;else{if(o!==s)return!1;o=a}return o!==r?!1:!0},s.prototype=Object.create(s.prototype),s.prototype.addVertByCoords=function(e,t,r){var n=new o;return n.annotation.x=e?e:0,n.annotation.y=t?t:0,n.annotation.z=r?r:0,a.prototype.addVert.call(this,n)},s.prototype.addEdgeByVertPair=function(e,t,r){if((r||void 0===r)&&e===t)throw new TypeError("Degenerate edge!");if(!this.verts.has(e.id)||!this.verts.has(t.id))throw new ReferenceError("Vert not in mesh!");if((r||void 0===r)&&s.getCommonEdgeOfVertPair.size)throw new ReferenceError("Vert pair already has edge in common!");var o=new n;return o.vert1=e,o.vert2=t,e.edges.add(o),t.edges.add(o),a.prototype.addEdge.call(this,o)},s.prototype.addFaceByEdgeLoop=function(e,t){if((t||void 0===t)&&!s.validateEdgeLoop(e))throw new TypeError("Degenerate edge-loop!");for(var r,o=new i,n=e[Symbol.iterator]();!(r=n.next()).done;){var d=r.value;if(!this.edges.has(d.id))throw new ReferenceError("Edge not in mesh!");d.faces.add(o),o.edges.add(d)}return a.prototype.addFace.call(this,o)},s.prototype.addFaceByVertLoop=function(e){if(e.length<3||e.size<3)throw new TypeError("Degenerate vert-loop!");for(var t,r,o=$traceurRuntime.spread(e),n=[],i=o[0],a=1;a<o.length;a++){if(t=o[a],r=s.getCommonEdgeOfVertPair(i,t),r.size<1)throw new TypeError("Degenerate vert-loop!");n.push($traceurRuntime.spread(r)[0]),i=t}if(r=s.getCommonEdgeOfVertPair(o[o.length-1],o[0]),r.size<1)throw new TypeError("Degenerate vert-loop!");return n.push($traceurRuntime.spread(r)[0]),this.addFaceByEdgeLoop(n,!1)},module.exports={ElementSet:r,Vert:o,Edge:n,Face:i,Mesh:a,SimpleMesh:s}}).call(this);
},{}]},{},[1])(1)
});
